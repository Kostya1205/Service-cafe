<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="_csrf" th:content="${_csrf.token}"/> <!-- Вставляем CSRF-токен в мета-тег -->
    <meta name="_csrf_header" th:content="${_csrf.headerName}"/> <!-- Имя заголовка для CSRF-токена -->
    <title>Кассовое приложение для кафе</title>
    <link rel="stylesheet" href="/css/CashRegister.css">
</head>
<body>
<div class="left">
    <h1>Выбор товаров</h1>
    <div th:each="categories : ${categories}" class="category" th:attr="data-category=${categories.categoriesName}" onclick="toggleCategory('${categories.categoriesName}')">
        <span th:text="__${categories.categoriesName}__"></span>
    </div>
    <div th:each="categories : ${categories}" class="products" id="${categories.categoriesName}">
        <div th:each="item : ${categories.items}" class="product" th:attr="data-name=__${item.nameOfItem}__, data-price=__${item.price}__" onclick="addProduct('__${item.nameOfItem}__', __${item.price}__)">
<!--            <img th:src="'/' + __${item.image}__" th:alt="__${item.nameOfItem}__">-->
            <div class="product-info">
                <h3 th:text="__${item.nameOfItem}__"></h3>
                <p th:text="'Цена: $' + __${item.price}__"></p>
            </div>
        </div>
    </div>
</div>

    <div class="right">
        <h1>Заказ</h1>
         <div class="order-list">
        <table>
            <thead>
                <tr>
                    <th>Товар</th>
                    <th>Цена</th>
                    <th>Количество</th>
                    <th>Сумма</th>
                    <th>Действие</th>
                </tr>
            </thead>
            <tbody id="order-items">
            </tbody>
        </table>
               </div>
        <h3 class="total">Итого: <span id="total">0</span></h3>
        <button type="button" onclick="clearOrder()" class="button">Очистить корзину</button> <!-- Добавленная кнопка -->
        <h2>Выберите способ оплаты:</h2>
        <label>
            <input type="radio" name="payment" value="cash" checked> Наличные
        </label>
        <label>
            <input type="radio" name="payment" value="card"> Карта
        </label>
        <button type="button" onclick="submitOrder()" class="button">Оплатить</button> <!-- Улучшенная кнопка оплаты -->
    </div>
    <script src="/js/CashRegister.js"></script>
</body>
</html>
